<div class="w-100 pb-4 border-bottom-gray">
  <div class="controls">
    <button
      class="control-button"
      nbButton
      ghost
      size="medium"
      (click)="toggleShuffle()"
      [class.on]="shuffle"
    >
      <i [class.opacity-5]="!shuffle" class="fa-solid fa-shuffle f-20"></i>
    </button>
    <button
      class="control-button skip-forward-button"
      nbButton
      ghost
      size="medium"
      (click)="next()"
    >
      <i class="fa-solid fa-forward-step f-20"></i>
    </button>
    <button
      class="control-button rewind-button"
      nbButton
      ghost
      size="medium"
      (click)="forward(10)"
    >
      <img src="../../../../assets/image/for10.png" alt="refresh" />
    </button>
    <button
      class="control-button play-button"
      nbButton
      ghost
      size="giant"
      (click)="playPause()"
    >
      <i
        [ngClass]="player.paused ? 'fa-circle-play' : 'fa-circle-pause'"
        class="fa-solid f-50"
      ></i>
    </button>
    <button
      class="control-button rewind-button"
      nbButton
      ghost
      size="medium"
      (click)="rewind(10)"
    >
      <img src="../../../../assets/image/refresh.10.png" alt="refresh" />
    </button>
    <button
      class="control-button"
      nbButton
      ghost
      size="medium"
      (click)="prev()"
    >
      <i class="fa-solid fa-backward-step f-20"></i>
    </button>

    <button
      class="control-button"
      nbButton
      ghost
      size="medium"
      (click)="toggleLoop()"
      [class.on]="player.loop"
    >
      <i [class.opacity-5]="!player.loop" class="fa-solid fa-repeat f-20"></i>
    </button>
  </div>
  <div class="row">
    <div class="volume col-4">
      <button nbButton ghost size="small" (click)="setVolume(0)">
        <nb-icon
          class="volume-icon"
          icon="volume-down-outline"
          pack="eva"
        ></nb-icon>
      </button>
      <div class="progress-wrap">
        <input
          type="range"
          class="progress"
          [value]="getVolume()"
          max="100"
          (input)="setVolume(volume.value)"
          #volume
        />
        <div class="progress-foreground" [style.width.%]="getVolume()"></div>
      </div>
      <button nbButton ghost size="small" (click)="setVolume(100)">
        <nb-icon
          class="volume-icon"
          icon="volume-up-outline"
          pack="eva"
        ></nb-icon>
      </button>
    </div>
    <div class="progress-wrap col-8">
      <input
        dir="ltr"
        type="range"
        class="progress"
        [value]="getProgress()"
        min="0"
        max="100"
        step="0.01"
        (input)="setProgress(duration.value)"
        #duration
      />
      <div class="progress-foreground" [style.width.%]="getProgress()"></div>
    </div>
  </div>

  <div class="timing">
    <small class="current">{{ player.currentTime | timing }}</small>
    <small class="remaining">{{
      player.duration - player.currentTime | timing
    }}</small>
  </div>
</div>
